<!--
  Generated template for the EditTransactionPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{ 'edit-transaction' | translate:param }}</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="deleteTransaction(editTransaction)">
        <ion-icon name="trash"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>

	<ion-list>

  <ion-item>
    <ion-label>{{ 'type' | translate:param }}</ion-label>
    <ion-select [(ngModel)]="editTransaction.type" (ionChange)="typeChange($event)">
      <ion-option value="expense" selected="true">{{ 'expense' | translate:param }}</ion-option>
      <ion-option value="income">{{ 'income' | translate:param }}</ion-option>
    </ion-select>
  </ion-item>

  <ion-item>
    <ion-label>{{ 'amount' | translate:param }}</ion-label>
    <ion-input text-right type="number" value="" [(ngModel)]="editTransaction.amount"></ion-input>
  </ion-item>

  <ion-item *ngIf="editTransaction.type === 'income'">
    <ion-label>{{ 'category' | translate:param }}</ion-label>
    <ion-select [(ngModel)]="editTransaction.category">
      <ion-option *ngFor="let category of incomeCategories" [value]="category._id">{{ category.name | translate:param }}</ion-option>
    </ion-select>
  </ion-item>

  <ion-item *ngIf="editTransaction.type === 'expense'">
    <ion-label>{{ 'category' | translate:param }}</ion-label>
    <ion-select [(ngModel)]="editTransaction.category">
      <ion-option *ngFor="let category of expenseCategories" [value]="category._id">{{ category.name | translate:param }}</ion-option>
    </ion-select>
  </ion-item>

  <ion-item>
    <ion-label>{{ 'account' | translate:param }}</ion-label>
    <ion-select [(ngModel)]="editTransaction.account" #account (ionChange)="accountChange(account._value)">
      <ion-option *ngFor="let account of accounts" [value]="account._id">{{ account.name | translate:param }}</ion-option>
    </ion-select>
  </ion-item>

  <ion-item>
    <ion-label>{{ 'description' | translate:param }}</ion-label>
    <ion-input text-right type="string" value="" [(ngModel)]="editTransaction.description"></ion-input>
  </ion-item>

  </ion-list>

</ion-content>

<ion-footer>
  <button ion-button full large strong color="primary" (click)="updateTransaction(editTransaction)">{{ 'update-transaction' | translate:param }}</button>
</ion-footer>
