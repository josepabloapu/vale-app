<ion-header>
  <ion-navbar>
    <ion-title>{{ 'stats' | translate:param }}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content id="page-stats">
  <ion-list>
    
    <ion-item no-lines color="dark">
      <p style="font-weight: bold;">{{ 'expenses' | translate:param }}
    </ion-item>

    <ion-item no-lines *ngFor="let term of dateTerms; let $i = index" [ngClass]="($i%2 == 0) ? 'odd' : 'even'">
      <h3 item-start>
          {{ term | translate:param }}
      </h3>
      <h3 item-end>
          {{ dataSortedByDate[term].expenseBalance | number : '1.2-2' }} {{ getCurrencyReadableObject(user.currency).code }}
      </h3>
    </ion-item>

    <!-- <ion-item no-lines color="white">
      <ion-row *ngFor="let term of dateTerms">
        <ion-col>
          <p>{{ term | translate:param }}</p>
        </ion-col>
        <ion-col text-right>
          <p>{{ dataSortedByDate[term].expenseBalance | number:0 }} {{ getCurrencyReadableObject(user.currency).code }}</p>
        </ion-col>
      </ion-row>
    </ion-item> -->
    
    <ion-item no-lines color="dark">
      <p style="font-weight: bold;">{{ 'balance-per-category' | translate:param }}
      <p item-end style="font-weight: bold;">{{ 'this-month' | translate:param }}</p>
    </ion-item>

    <ion-item no-lines *ngFor="let category of dataSortedByDate['this-month'].validExpenseCategories; let $i = index" [ngClass]="($i%2 == 0) ? 'odd' : 'even'">
      <h3 item-start>
        {{ dataSortedByDate['this-month'].categoriesBalance[category.name].name | translate:param}}
      </h3>
      <h3 style="color:grey;">
        {{ dataSortedByDate['this-month'].categoriesBalance[category.name].percentage | number: '1.2-2' }}%
      </h3>
      <h3 item-end>
        {{ dataSortedByDate['this-month'].categoriesBalance[category.name].balance | number : '1.2-2' }} {{ getCurrencyReadableObject(user.currency).code }}
      </h3>
    </ion-item>

    <!-- <ion-item no-lines color="white">
      <ion-row *ngFor="let category of expenseCategories">
        <ion-col *ngIf="dataSortedByDate['this-month'].categoriesBalance[category.name].balance">
          <p>{{ dataSortedByDate['this-month'].categoriesBalance[category.name].name | translate:param }}</p>
        </ion-col>
        <ion-col text-left *ngIf="dataSortedByDate['this-month'].categoriesBalance[category.name].balance">
          <p style="color:grey;">{{ dataSortedByDate['this-month'].categoriesBalance[category.name].percentage | number: '1.2-2' }}%</p>
        </ion-col>
        <ion-col text-right *ngIf="dataSortedByDate['this-month'].categoriesBalance[category.name].balance">
          <p>{{ dataSortedByDate['this-month'].categoriesBalance[category.name].balance | number : '1.2-2' }} {{ getCurrencyReadableObject(user.currency).code }}</p>
        </ion-col>
      </ion-row>
    </ion-item>   -->

    <ion-item no-lines color="dark">
      <p style="font-weight: bold;">{{ 'balance-per-category' | translate:param }}
      <p item-end style="font-weight: bold;">{{ 'this-year' | translate:param }}</p>
    </ion-item>

    <ion-item no-lines *ngFor="let category of dataSortedByDate['this-year'].validExpenseCategories; let $i = index" [ngClass]="($i%2 == 0) ? 'odd' : 'even'">
      <h3 item-start>
        {{ dataSortedByDate['this-year'].categoriesBalance[category.name].name | translate:param}}
      </h3>
      <h3 style="color:grey;">
        {{ dataSortedByDate['this-year'].categoriesBalance[category.name].percentage | number: '1.2-2' }}%
      </h3>
      <h3 item-end>
        {{ dataSortedByDate['this-year'].categoriesBalance[category.name].balance | number : '1.2-2' }} {{ getCurrencyReadableObject(user.currency).code }}
      </h3>
    </ion-item>

    <!-- <ion-item no-lines color="white" *ngFor="let category of expenseCategories">
      <ion-row *ngFor="let category of expenseCategories">
        <ion-col *ngIf="dataSortedByDate['this-year'].categoriesBalance[category.name].balance">
          <p>{{ dataSortedByDate['this-year'].categoriesBalance[category.name].name | translate:param}}</p>
        </ion-col>
        <ion-col text-left *ngIf="dataSortedByDate['this-year'].categoriesBalance[category.name].balance">
          <p style="color:grey;">{{ dataSortedByDate['this-year'].categoriesBalance[category.name].percentage | number: '1.2-2' }}%</p>
        </ion-col>
        <ion-col text-right *ngIf="dataSortedByDate['this-year'].categoriesBalance[category.name].balance">
          <p>{{ dataSortedByDate['this-year'].categoriesBalance[category.name].balance | number : '1.2-2' }} {{ getCurrencyReadableObject(user.currency).code }}</p>
        </ion-col>
      </ion-row>
    </ion-item>  -->

  </ion-list>
</ion-content>
